<fieldset>
    <legend>Service</legend>
    {{input "@type" "Service" readonly="readonly"}}
    {{#[@id]}}
        {{input "@id" [@id] type="hidden"}}
    {{/[@id]}}

    {{! --- name --- }}
    {{#name}}
        {{input (stringFormat "name[%s][@value]" @index) [@value]}}
        {{input (stringFormat "name[%s][@language]" @index) [@language]}}
    {{/name}}
    {{^name}}
        {{input "name[0][@value]" ""}}
        {{input "name[0][@language]" ""}}
    {{/name}}

    {{! --- description --- }}
    {{#description}}
        {{textarea (stringFormat "description[%s][@value]" @index) [@value]}}
        {{input (stringFormat "description[%s][@language]" @index) [@language]}}
    {{/description}}
    {{^description}}
        {{textarea "description[0][@value]" ""}}
        {{input "description[0][@language]" ""}}
    {{/description}}

    {{! --- provider --- }}
    {{#provider}}
        {{input (stringFormat "provider[%s][@id]" @index) [@id] type="url"}}
    {{/provider}}
    {{^provider}}
        {{input "provider[0][@id]" "" type="url"}}
    {{/provider}}

    {{! --- availableChannel --- }}
    {{#availableChannel}}
        <fieldset>
            <legend>Available Channel</legend>
            {{input (stringFormat "availableChannel[%s][serviceUrl]" @index) serviceUrl type="url"}}
            {{#availableLanguage}}
                {{input (stringFormat "availableChannel[%s][availableLanguage][%s]" ../@index @index) .}}
            {{/availableLanguage}}
            {{input (stringFormat "availableChannel[%s][availableLanguage][%s]" @index (size availableLanguage)) ""}}
        </fieldset>
    {{/availableChannel}}
    {{^availableChannel}}
        <fieldset>
            <legend>Available Channel</legend>
            {{input "availableChannel[0][serviceUrl]"  "" type="url"}}
            {{input "availableChannel[0][availableLanguage][0]" ""}}
        </fieldset>
    {{/availableChannel}}

    {{! --- audience --- }}
    {{#audience}}
        {{input (stringFormat "audience[%s][@id]" @index) [@id] type="url" }}
    {{/audience}}
    {{input (stringFormat "audience[%s][@id]" (size audience)) "" type="url" }}

    {{! --- about --- }}
    {{#about}}
        {{input (stringFormat "about[%s][@id]" @index) [@id] type="url" }}
    {{/about}}
    {{input (stringFormat "about[%s][@id]" (size about)) "" type="url" }}

</fieldset>
